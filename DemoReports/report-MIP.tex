 % !TEX root = demoReport.tex
\section*{Problem 1: Mixed Integer Programming (MIP)}

\newcommand{\SolverMIP}{\todo{Gurobi}\xspace}  % or CPLEX, or Xpress, or Cbc
\newcommand{\TimeoutMIP}{\todo{300.00}}  % timeout, in CPU seconds; MIN 300.00

\paragraph{Task~a: Model.}
We define the variables first:
\begin{itemize}
  \item Let $z$ be the number of zones.
  \item Let $s$ be the number of service stations that we place in one zone each. 
  \item Let $v$ be the number of vehicle, we will therefore have $N = v \cdot s$ of vehicles at our disposal in total.
  \item Let $c$ be the number of vehicles considered
  \item Let $d$ be a tuple of length $z$ giving the demand for each zone $z$.
  \item Let $T$ be a matrix of dimension $z \times z$ with the travel time from one zone to the other.
\end{itemize}
The problem we want to optimise is to select $s$ zones in which we will place our service stations. Our objective is to minimise the sum over the average travel time of the $c$ closest vehicles of each zone multiplied by the demand of the zone. For each zone, we need to determine the closest $c$ vehicles from the $N$ we have at our disposal. As each station has $v$ vehicles at its disposal, we take $v$ vehicles from the  $\Floor{\frac{c}{s}}$ closest station from a zone $z_i$ and $c \mod s$ from the $\Floor{\frac{c}{s}} + 1$ closest station. 
Let $s_i$ be the zones we choose to position our stations in. Then we get the linear function for the zone $z_j$: 

\begin{equation*}
	f_j(s_1, s_2, \cdots, s_s) = \sum_{k=1}^{\Floor{\frac{c}{s}}} T_{s_k, j} \cdot v +  T_{s_{\Floor{\frac{c}{s}} + 1}, j} \:\cdot(c \bmod s)
\end{equation*}

Where the function $f_j(s_1, s_2, \cdots, s_s)$ implicitly depends on the $j$, as we choose the $s$ in a way that they are the closest. For all zones we have the function we want to minimilize

\begin{align*}
	f(s_1, s_2, \cdots, s_s) & = \sum_{j=1}^{z} \frac{1}{c}f_j(s_1, s_2, \cdots, s_s) \cdot d_j
\end{align*}


\paragraph{Task~b: Implementation.}
Our model \texttt{servStatLoc.mod} is \todo{uploaded} with this
report: we \todo{checked} that its constraints and objective function
are linear (and we are aware that four points will otherwise be
deducted from our score for this problem).
%
We chose the MIP solver~\SolverMIP for our experiments, which we ran
\todo{on the NEOS server or
  % specification of the ThinLinc Linux hosts of the IT department,
  % where the academic site license for Gurobi is installed, but note
  % that no classroom license for AMPL is installed there, so replace
  % if need be by a similar-looking specification of your own hardware:
  under Linux Ubuntu~18.04 ($64$~bit) on an Intel Xeon E5520 of
  $2.27$~GHz, with $4$~processors of $4$~cores each, with a $70$~GB
  RAM and an $8$~MB L3 cache (a ThinLinc computer of the IT
  department)}.

\paragraph{Task~c: 10 Zones.}
The results are in Table~\ref{tab:res:mip}.
%
When~$s$ increases, the optimal objective value~\todo{\filler}.

\paragraph{Task~d: 20 Zones.}
The results are in Table~\ref{tab:res:mip}.
%
When~$s$ grows beyond~$4$, the optimal objective value \todo{\filler}.

\paragraph{Task~e: 40 Zones.}
The results are in Table~\ref{tab:res:mip}.

\paragraph{Task~f: 80 Zones.}
The results are in Table~\ref{tab:res:mip}.
%
Upon~$s=16$ service stations with~$v=1$ vehicle each, the optimal
objective value is \todo{\filler} the one for~$s=8$ and~$v=2$, because
\todo{\filler}.

\paragraph{Task~g: 120 Zones.}
The results are in Table~\ref{tab:res:mip}.
%
Our model \todo{does not time out}.
% If it does time out, then see the demo sentence under Task h below!

\paragraph{Task~h: 250 Zones.}
The results are in Table~\ref{tab:res:mip}.
%
Our model \todo{times out, so our proposed algorithm for delivering a
  not necessarily optimal solution in reasonable running time is
  \filler}.

\paragraph{Task~i: Brute-Force Algorithm.}
The size of the search space of a totally brute-force search algorithm
is \todo{$\binom{z!}{\cos c} \cdot \log_s v$}, because \todo{\filler}.

The numbers of candidate solutions this brute-force search algorithm
has to examine per second in order to match the reported runtime
performance of~\SolverMIP on our model are given in the right-most
column of Table~\ref{tab:res:mip}, for each instance that~\SolverMIP
solved to proven optimality without timing out.
%
We think that \todo{\filler}, because \todo{\filler}.

\begin{table}[t]  % make it float to the top of a page
  \centering
  \begin{tabular}{rrrrrrrr}  % right alignment --> decimal point alignment
    $z$ & $s$ & $v$ & $c$ & time & objective value & optimality gap & brute-force \\
    \midrule
    \input{results-MIP.tex} %% let your experiment script write directly
                            %% into this file, making sure every number
                            %% in a column has the _same_ number of decimals
  \end{tabular}
  \caption{Service station location: runtime (in seconds), objective
    value, and optimality gap (in percent; positive if an optimal
    solution was not found and proven before timing out)
    using~\SolverMIP, with a timeout of $\TimeoutMIP$~CPU seconds.
    The right-most column gives the number of candidate solutions the
    brute-force search algorithm has to examine per second in order to
    match the runtime performance of~\SolverMIP, if the instance was
    solved to proven optimality, and~`n/a' for `non-applicable'
    otherwise.
    %% delete the following sentence:
    \todo{(The sample performance of this demo report is made up,
      except for the two optimal objective values!)}
    %
  }
  \label{tab:res:mip}
\end{table}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "demoReport"
%%% End:
